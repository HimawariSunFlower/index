<!doctype html>
<html>
    <!-- 网页的标题、图标... -->
<head>
    <mate charset="utf-8">
    <title>修改账户</title>
    <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js">
    </script>
    <script src="/public/static/layui/lay/modules/layer.js"></script>
    <link rel="stylesheet" href="/public/static/layui/css/layui.css">
    <script>
        layui.use('element', function(){
        var element = layui.element;
        
        });
    </script> 
    <script type="text/javascript">
    login = function (InfoId){
        console.log(InfoId);
        $.ajax({
            //几个参数需要注意一下
                type: "POST",//方法类型
                dataType: "json",//预期服务器返回的数据类型
                url: "{:url('index/Dlwz/reviseinf')}" ,//url
                data: $('#form1').serialize(),
                success: function (result) {
                    console.log(result);//打印服务端返回的数据(调试用)?id="+InfoId
                    alert(result["info"]);
                },
                error : function(event, XMLHttpRequest, ajaxOptions, thrownError) {
                    // thrownError 只有当异常发生时才会被传递
                    this; // 监听的 dom 元素
                    console.log(this);
                }
        });
    }
    back =function(){
        window.location.href = "{:url('index/Dlwz/home')}";
    }
    </script>
</head>
    <!-- 网页的具体内容 -->
    <div class="layui-body">
        <!-- 内容主体区域 -->
        <div>
            <div class="layui-body">
                <div class="absoluteCenter" style="padding-top:100px">
                    <form class="layui-form" FORM method="post" id="form1" onsubmit="return false" action="##">
                        <div class="layui-form-item">
                            <label class="layui-form-label">id: {$InfoId}</label>
                        </div>
                        <div class="layui-form-item">
                            <label class="layui-form-label">昵称</label>
                            <div class="layui-input-block">
                                <input type="text" name="nickname" required  lay-verify="required" value="{$InfoNn}" autocomplete="off" class="layui-input" style="width:200px" >
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <label class="layui-form-label">用户名</label>
                            <div class="layui-input-block">
                                <input type="text" name="username" required  lay-verify="required" value="{$InfoUn}" autocomplete="off" class="layui-input" style="width:200px" >
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <label class="layui-form-label">密码框</label>
                            <div class="layui-input-inline">
                                <input type="password" name="password" required lay-verify="required" value="{$InfoPw}" autocomplete="off" class="layui-input" style="width:200px">
                            </div>
                        </div>
                        <input type="hidden" name="id" value="{$InfoId}" /> 
                        <input type="hidden" name="__token__" value="{$Request.token}" />
                        <div class="layui-form-item">
                            <div class="layui-input-block">
                                <button class="layui-btn layui-btn-radius"   onclick='login("{$InfoId}")'>立即提交</button>
                                <button onclick="back()" type="reset" class="layui-btn layui-btn-primary layui-btn-radius">返回</button>
                            </div>
                        </div>
                    </form>  
                </div>
            </div>         
        </div>
    </div>
    
</div>

</body>
</html>